(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-200ae86c"],{"0193":function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n("b775");function o(e){return Object(a["a"])({url:"/exam/paper/list",method:"get",params:e})}function r(e){return Object(a["a"])({url:"/exam/paper/"+e,method:"get"})}function s(e){return Object(a["a"])({url:"/exam/questions/getCountByType",method:"POST",data:e})}function l(e){return Object(a["a"])({url:"/exam/paper/insert",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/exam/paper",method:"put",data:e})}function i(e){return Object(a["a"])({url:"/exam/paper/"+e,method:"delete"})}function c(e){return Object(a["a"])({url:"/exam/paper/export",method:"get",params:e})}},"0a01":function(e,t,n){"use strict";n("8640")},"751e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:t.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"试卷名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入试卷名称",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)}},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),a("el-form-item",{attrs:{label:"题库ids",prop:"questionBankIds"}},[a("el-input",{attrs:{placeholder:"请输入题库ids",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)}},model:{value:t.queryParams.questionBankIds,callback:function(e){t.$set(t.queryParams,"questionBankIds",e)},expression:"queryParams.questionBankIds"}})],1),a("el-form-item",{attrs:{label:"是否发布",prop:"isIssue"}},[a("el-input",{attrs:{placeholder:"请输入是否发布",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)}},model:{value:t.queryParams.isIssue,callback:function(e){t.$set(t.queryParams,"isIssue",e)},expression:"queryParams.isIssue"}})],1),a("el-form-item",{attrs:{label:"标签ids",prop:"labelIds"}},[a("el-input",{attrs:{placeholder:"请输入标签ids",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)}},model:{value:t.queryParams.labelIds,callback:function(e){t.$set(t.queryParams,"labelIds",e)},expression:"queryParams.labelIds"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.handleQuery}},[t._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:paper:add"],expression:"['exam:paper:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:t.handleAdd}},[t._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:paper:edit"],expression:"['exam:paper:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:t.single},on:{click:t.handleUpdate}},[t._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:paper:remove"],expression:"['exam:paper:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:t.multiple},on:{click:t.handleDelete}},[t._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:paper:export"],expression:"['exam:paper:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini",loading:t.exportLoading},on:{click:t.handleExport}},[t._v("导出")])],1),a("right-toolbar",{attrs:{showSearch:t.showSearch},on:{"update:showSearch":function(e){t.showSearch=e},"update:show-search":function(e){t.showSearch=e},queryTable:t.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.paperList},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"主键id",align:"center",prop:"id"}}),a("el-table-column",{attrs:{label:"试卷名称",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"考试时长",align:"center",prop:"duration",width:"180"}}),a("el-table-column",{attrs:{label:"试卷总分",align:"center",prop:"totalPoint"}}),a("el-table-column",{attrs:{label:"题库ids",align:"center",prop:"questionBankIds"}}),a("el-table-column",{attrs:{label:"题目数量",align:"center",prop:"questionCount"}}),a("el-table-column",{attrs:{label:"是否发布",align:"center",prop:"isIssue"}}),a("el-table-column",{attrs:{label:"标签ids",align:"center",prop:"labelIds"}}),a("el-table-column",{attrs:{label:"及格线",align:"center",prop:"passingScore"}}),a("el-table-column",{attrs:{label:"优秀线",align:"center",prop:"goodScore"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:paper:edit"],expression:"['exam:paper:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return t.handleUpdate(e.row)}}},[t._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["exam:paper:remove"],expression:"['exam:paper:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(n){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}}),a("el-dialog",{attrs:{title:t.title,visible:t.open,width:"60%"},on:{"update:visible":function(e){t.open=e},close:t.dialogClose}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"试卷名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入试卷名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"考试时长",prop:"duration"}},[a("el-input-number",{attrs:{"step-strictly":"",step:10,"controls-position":"right",min:30,max:300,placeholder:"选择考试时长"},model:{value:t.form.duration,callback:function(e){t.$set(t.form,"duration",e)},expression:"form.duration"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"试卷总分",prop:"totalPoint"}},[a("el-input-number",{attrs:{controls:!1,disabled:!0,placeholder:"请输入试卷总分"},on:{input:function(t){e.form.passingScore=parseInt(.6*t),e.form.goodScore=parseInt(.8*t)}},model:{value:t.form.totalPoint,callback:function(e){t.$set(t.form,"totalPoint",e)},expression:"form.totalPoint"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"题目数量",prop:"questionCount"}},[a("el-input-number",{attrs:{disabled:!0,controls:!1,placeholder:"请输入题目数量"},model:{value:t.form.questionCount,callback:function(e){t.$set(t.form,"questionCount",e)},expression:"form.questionCount"}})],1)],1),"second"==t.activeName?a("span",[a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"单选题数量",prop:"score"}},[a("el-input-number",{attrs:{disabled:"",controls:!1},model:{value:t.form.selectCount,callback:function(e){t.$set(t.form,"selectCount",e)},expression:"form.selectCount"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"单选题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1},on:{input:t.inputDataChange},model:{value:t.form.selectScore,callback:function(e){t.$set(t.form,"selectScore",e)},expression:"form.selectScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"多选题数量",prop:"score"}},[a("el-input-number",{attrs:{disabled:"",controls:!1},model:{value:t.form.selectsCount,callback:function(e){t.$set(t.form,"selectsCount",e)},expression:"form.selectsCount"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"多选题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1},on:{input:t.inputDataChange},model:{value:t.form.selectsScore,callback:function(e){t.$set(t.form,"selectsScore",e)},expression:"form.selectsScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"判断题数量",prop:"score"}},[a("el-input-number",{attrs:{disabled:"",controls:!1},model:{value:t.form.judgeCount,callback:function(e){t.$set(t.form,"judgeCount",e)},expression:"form.judgeCount"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"判断题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1},on:{input:t.inputDataChange},model:{value:t.form.judgeScore,callback:function(e){t.$set(t.form,"judgeScore",e)},expression:"form.judgeScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"问答题数量",prop:"score"}},[a("el-input-number",{attrs:{disabled:"",controls:!1},model:{value:t.form.answerCount,callback:function(e){t.$set(t.form,"answerCount",e)},expression:"form.answerCount"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"问答题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1},on:{input:t.inputDataChange},model:{value:t.form.answerScore,callback:function(e){t.$set(t.form,"answerScore",e)},expression:"form.answerScore"}})],1)],1)],1):t._e(),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"及格线",prop:"passingScore"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入及格线"},model:{value:t.form.passingScore,callback:function(e){t.$set(t.form,"passingScore",e)},expression:"form.passingScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"优秀线",prop:"goodScore"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入优秀线"},model:{value:t.form.goodScore,callback:function(e){t.$set(t.form,"goodScore",e)},expression:"form.goodScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"是否发布",prop:"isIssue"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"发布","inactive-text":"未发布"},model:{value:t.isIssue,callback:function(e){t.isIssue=e},expression:"isIssue"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"模糊配置",name:"first"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{model:t.vagueForm,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"标签ids",prop:"label"}},[a("el-select",{attrs:{clearable:"",filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择标签"},on:{"remove-tag":t.labetBankChange,change:t.labetBankChange},model:{value:t.vagueForm.labelIds,callback:function(e){t.$set(t.vagueForm,"labelIds",e)},expression:"vagueForm.labelIds"}},t._l(t.labelOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"题库ids",prop:"bank"}},[a("el-select",{attrs:{clearable:"",filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择题库"},on:{change:t.labetBankChange},model:{value:t.vagueForm.questionBankIds,callback:function(e){t.$set(t.vagueForm,"questionBankIds",e)},expression:"vagueForm.questionBankIds"}},t._l(t.bankOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"单选题数量",prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.vagueForm.countType.selectCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入单选题数量"},on:{input:t.inputDataChange,"remove-tag":t.labetBankChange},model:{value:t.vagueForm.selectCount,callback:function(e){t.$set(t.vagueForm,"selectCount",e)},expression:"vagueForm.selectCount"}})],1)],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"单选题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入单选题分值"},on:{input:t.inputDataChange},model:{value:t.vagueForm.selectScore,callback:function(e){t.$set(t.vagueForm,"selectScore",e)},expression:"vagueForm.selectScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"多选题数量",prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.vagueForm.countType.selectsCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入多选题数量"},on:{input:t.inputDataChange},model:{value:t.vagueForm.selectsCount,callback:function(e){t.$set(t.vagueForm,"selectsCount",e)},expression:"vagueForm.selectsCount"}})],1)],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"多选题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入多选题分值"},on:{input:t.inputDataChange},model:{value:t.vagueForm.selectsScore,callback:function(e){t.$set(t.vagueForm,"selectsScore",e)},expression:"vagueForm.selectsScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"判断题数量",prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.vagueForm.countType.judgeCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入判断题数量"},on:{input:t.inputDataChange},model:{value:t.vagueForm.judgeCount,callback:function(e){t.$set(t.vagueForm,"judgeCount",e)},expression:"vagueForm.judgeCount"}})],1)],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"判断题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入判断题分值"},on:{input:t.inputDataChange},model:{value:t.vagueForm.judgeScore,callback:function(e){t.$set(t.vagueForm,"judgeScore",e)},expression:"vagueForm.judgeScore"}})],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"问答题数量",prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.vagueForm.countType.answerCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入问答题数量"},on:{input:t.inputDataChange},model:{value:t.vagueForm.answerCount,callback:function(e){t.$set(t.vagueForm,"answerCount",e)},expression:"vagueForm.answerCount"}})],1)],1)],1),a("el-col",{attrs:{span:t.span}},[a("el-form-item",{attrs:{label:"问答题分值",prop:"score"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"请输入问答题分值"},on:{input:t.inputDataChange},model:{value:t.vagueForm.answerScore,callback:function(e){t.$set(t.vagueForm,"answerScore",e)},expression:"vagueForm.answerScore"}})],1)],1)],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"精准配置",name:"second"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addRow}},[t._v("添加一行")]),a("el-button",{on:{click:t.removeRow}},[t._v("删除一行")])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{model:t.accurateForm}},[a("el-table",{attrs:{fit:!1,data:t.accurateForm.list},on:{"selection-change":function(t){e.currentSelectOption=t}}},[a("el-table-column",{attrs:{type:"selection","header-align":"center",width:"50"}}),a("el-table-column",{attrs:{label:"题库",prop:"bank","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",[a("el-select",{attrs:{clearable:"",filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择题库"},on:{change:t.labetBankChange,"remove-tag":t.labetBankChange},model:{value:e.row.bank,callback:function(n){t.$set(e.row,"bank",n)},expression:"scope.row.bank"}},t._l(t.bankOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]}}])}),a("el-table-column",{attrs:{label:"标签","header-align":"center",prop:"label","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",[a("el-select",{attrs:{clearable:"",filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择标签"},on:{change:t.labetBankChange,"remove-tag":t.labetBankChange},model:{value:e.row.label,callback:function(n){t.$set(e.row,"label",n)},expression:"scope.row.label"}},t._l(t.labelOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]}}])}),a("el-table-column",{attrs:{label:"单选题数量",prop:"label","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.countType.selectCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:""},on:{input:t.inputDataChange},model:{value:e.row.selectCount,callback:function(n){t.$set(e.row,"selectCount",n)},expression:"scope.row.selectCount"}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"多选题数量",prop:"label","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.countType.selectsCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:""},on:{input:t.inputDataChange},model:{value:e.row.selectsCount,callback:function(n){t.$set(e.row,"selectsCount",n)},expression:"scope.row.selectsCount"}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"判断题数量",prop:"label","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.countType.judgeCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:""},on:{input:t.inputDataChange},model:{value:e.row.judgeCount,callback:function(n){t.$set(e.row,"judgeCount",n)},expression:"scope.row.judgeCount"}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"问答题数量",prop:"label","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",{attrs:{prop:"score"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.countType.answerCount+"道",placement:"left-start"}},[a("el-input-number",{attrs:{controls:!1,placeholder:""},on:{input:t.inputDataChange},model:{value:e.row.answerCount,callback:function(n){t.$set(e.row,"answerCount",n)},expression:"scope.row.answerCount"}})],1)],1)]}}])})],1)],1)],1)],1)],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),a("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)],1)],1)],1)},o=[],r=(n("d3b7"),n("159b"),n("a434"),n("d81d"),n("b0c0"),n("0193")),s=n("a9ce"),l=n("7f1e"),u={name:"Paper",data:function(){return{vagueForm:{labelIds:[],questionBankIds:[],selectCount:0,countType:{selectsCount:0,answerCount:0,judgeCount:0,selectCount:0},selectScore:0,selectsCount:0,selectsScore:0,judgeScore:0,judgeCount:0,answerCount:0,answerScore:0},currentSelectOption:[],addIndex:0,labelOptions:[],bankOptions:[],accurateForm:{list:[{countType:{selectsCount:0,answerCount:0,judgeCount:0,selectCount:0},bank:"",count:"",score:"",label:"",$id:0,selectCount:0,selectsCount:0,judgeCount:0,answerCount:0}]},activeName:"first",span:10,loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,paperList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,name:null,duration:null,totalPoint:null,questionBankIds:null,questionCount:null,isIssue:null,labelIds:null,passingScore:null,goodScore:null},form:{totalPoint:0,duration:0,name:"",questionCount:0,isIssue:!0,selectCount:0,selectScore:0,selectsCount:0,selectsScore:0,judgeScore:0,judgeCount:0,answerCount:0,answerScore:0},isIssue:!0,rules:{}}},created:function(){this.getList(),this.getLabelList(),this.getQuestionBankList()},methods:{labetBankChange:function(){var e=this;console.log("触发了"),"first"===this.activeName?Object(r["c"])({bank:this.vagueForm.questionBankIds,label:this.vagueForm.labelIds}).then((function(t){e.vagueForm.countType=t.data,e.verifyCount()})):"second"===this.activeName&&this.accurateForm.list.forEach((function(t,n){Object(r["c"])({bank:t.bank,label:t.label}).then((function(a){t.countType=a.data,e.accurateForm.list[n]=t,n==e.accurateForm.list.length-1&&e.verifyCount()}))}))},verifyCount:function(){var e=this,t=!0;return"first"==this.activeName?null!=this.vagueForm.countType&&""!=this.vagueForm.countType&&(this.vagueForm.countType.judgeCount<this.vagueForm.judgeCount?(this.$message.warning("判断题的数量不足"),t=!1):this.vagueForm.countType.selectCount<this.vagueForm.selectCount?(this.$message.warning("单选题的数量不足"),t=!1):this.vagueForm.countType.selectsCount<this.vagueForm.selectsCount?(this.$message.warning("多选题的数量不足"),t=!1):this.vagueForm.countType.answerCount<this.vagueForm.answerCount&&(this.$message.warning("问答题的数量不足"),t=!1)):"second"==this.activeName&&this.accurateForm.list.some((function(n){if(null!=n.countType&&""!=n.countType){var a=n.countType;return a.judgeCount<n.judgeCount?(e.$message.warning("判断题的数量不足"),t=!1,!0):a.selectCount<n.selectCount?(e.$message.warning("单选题的数量不足"),t=!1,!0):a.selectsCount<n.selectsCount?(e.$message.warning("多选题的数量不足"),t=!1,!0):a.answerCount<n.answerCount&&(e.$message.warning("问答题的数量不足"),t=!1,!0)}return!1})),t},dialogClose:function(){this.vagueForm={labelIds:[],countType:{selectsCount:0,answerCount:0,judgeCount:0,selectCount:0},questionBankIds:[],selectCount:0,selectScore:0,selectsCount:0,selectsScore:0,judgeScore:0,judgeCount:0,answerCount:0,answerScore:0},this.accurateForm={list:[{countType:{selectsCount:0,answerCount:0,judgeCount:0,selectCount:0},bank:"",count:"",score:"",label:"",$id:0,selectCount:0,selectScore:0,selectsCount:0,selectsScore:0,judgeScore:0,judgeCount:0,answerCount:0,answerScore:0}]},this.activeName="first"},inputDataChange:function(){var e=this,t=0,n=0,a=0,o=0,r=0,s=0,l=0,u=0,i=0,c=0;this.verifyCount(),"first"==this.activeName?(t=parseInt(this.vagueForm.selectCount)*parseInt(this.vagueForm.selectScore)+parseInt(this.vagueForm.selectsScore)*parseInt(this.vagueForm.selectsCount)+parseInt(this.vagueForm.judgeScore)*parseInt(this.vagueForm.judgeCount)+parseInt(this.vagueForm.answerCount)*parseInt(this.vagueForm.answerScore),n=this.vagueForm.selectCount+this.vagueForm.selectsCount+this.vagueForm.judgeCount+this.vagueForm.answerCount,this.form.questionCount=n,this.form.totalPoint=t):"second"==this.activeName&&(this.accurateForm.list.forEach((function(t){n=t.selectCount+t.selectsCount+t.judgeCount+t.answerCount+n,a=e.form.selectScore*t.selectCount+a,r=e.form.selectsScore*t.selectsCount+r,l=e.form.judgeScore*t.judgeCount+l,c=e.form.answerScore*t.answerCount+c,o=t.selectCount+o,s=t.selectsCount+s,u=t.judgeCount+u,i=t.answerCount+i})),this.form.questionCount=n,this.form.selectCount=o,this.form.selectsCount=s,this.form.judgeCount=u,this.form.answerCount=i,t=parseInt(this.form.selectCount)*parseInt(this.form.selectScore)+parseInt(this.form.selectsScore)*parseInt(this.form.selectsCount)+parseInt(this.form.judgeScore)*parseInt(this.form.judgeCount)+parseInt(this.form.answerCount)*parseInt(this.form.answerScore),this.form.totalPoint=t,console.log(t))},addRow:function(){this.addIndex=this.addIndex+1;var e={countType:{selectsCount:0,answerCount:0,judgeCount:0,selectCount:0},bank:"",count:"",score:"",label:"",$id:this.addIndex,selectCount:0,selectScore:0,selectsCount:0,selectsScore:0,judgeScore:0,judgeCount:0,answerCount:0,answerScore:0};this.accurateForm.list.push(e)},removeRow:function(){var e=this;this.currentSelectOption.forEach((function(t){e.accurateForm.list.forEach((function(n,a){n.$id==t.$id&&e.accurateForm.list.splice(a,1)}))}))},getLabelList:function(){var e=this;Object(s["e"])().then((function(t){e.labelOptions=t.rows}))},getQuestionBankList:function(){var e=this;Object(l["e"])().then((function(t){e.bankOptions=t.rows}))},handleClick:function(e,t){this.form.selectScore=0,this.form.selectsScore=0,this.form.answerScore=0,this.form.judgeScore=0},getList:function(){var e=this;this.loading=!0,Object(r["f"])(this.queryParams).then((function(t){e.paperList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,name:null,duration:null,totalPoint:null,questionBankIds:null,questionCount:null,isIssue:null,labelIds:null,passingScore:null,goodScore:null,createTime:null,createUser:null,modifyTime:null,modifyUser:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加试卷"},handleUpdate:function(e){var t=this;this.reset();var n=e.id||this.ids;Object(r["d"])(n).then((function(e){t.form=e.data,t.open=!0,t.title="修改试卷"}))},submitForm:function(){var e=this;if("first"==this.activeName){var t=[],n={bank:this.vagueForm.questionBankIds,label:this.vagueForm.labelIds,selectCount:this.vagueForm.selectCount,selectsCount:this.vagueForm.selectsCount,judgeCount:this.vagueForm.judgeCount,answerCount:this.vagueForm.answerCount};this.form.selectScore=this.vagueForm.selectScore,this.form.selectsScore=this.vagueForm.selectsScore,this.form.judgeScore=this.vagueForm.judgeScore,this.form.answerScore=this.vagueForm.answerScore,t.push(n),this.form.list=t}else"second"==this.activeName&&(this.form.list=this.accurateForm.list);this.form.isIssue=this.isIssue,this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(r["g"])(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):Object(r["e"])(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,n=e.id||this.ids;this.$modal.confirm('是否确认删除试卷编号为"'+n+'"的数据项？').then((function(){return Object(r["a"])(n)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$modal.confirm("是否确认导出所有试卷数据项？").then((function(){return e.exportLoading=!0,Object(r["b"])(t)})).then((function(t){e.$download.name(t.msg),e.exportLoading=!1})).catch((function(){}))}}},i=u,c=(n("0a01"),n("2877")),m=Object(c["a"])(i,a,o,!1,null,null,null);t["default"]=m.exports},"7f1e":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return m}));var a=n("b775");function o(e){return Object(a["a"])({url:"/exam/bank/listCount",method:"get",params:e})}function r(e){return Object(a["a"])({url:"/exam/bank/listByQuestionId/"+e,method:"get"})}function s(e){return Object(a["a"])({url:"/exam/bank/"+e,method:"get"})}function l(){return Object(a["a"])({url:"/exam/bank/listByRole",method:"get"})}function u(e){return Object(a["a"])({url:"/exam/bank",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/exam/bank",method:"put",data:e})}function c(e){return Object(a["a"])({url:"/exam/bank/"+e,method:"delete"})}function m(e){return Object(a["a"])({url:"/exam/bank/export",method:"get",params:e})}},8640:function(e,t,n){},a9ce:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var a=n("b775");function o(e){return Object(a["a"])({url:"/exam/label/list",method:"get",params:e})}function r(e){return Object(a["a"])({url:"/exam/label/listByQuestionId/"+e,method:"get"})}function s(e){return Object(a["a"])({url:"/exam/label/"+e,method:"get"})}function l(e){return Object(a["a"])({url:"/exam/label",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/exam/label",method:"put",data:e})}function i(e){return Object(a["a"])({url:"/exam/label/"+e,method:"delete"})}function c(e){return Object(a["a"])({url:"/exam/label/export",method:"get",params:e})}}}]);